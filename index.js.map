{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  /* 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК */\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  /* 2. СКРОЛЛ ЭФФЕКТ ХЕДЕРА */\n  const header = document.querySelector('.header');\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 50) {\n          header.classList.add('header--scrolled');\n          header.style.padding = '12px 0';\n      } else {\n          header.classList.remove('header--scrolled');\n          header.style.padding = '20px 0';\n      }\n  });\n\n  /* 3. МОБИЛЬНОЕ МЕНЮ */\n  const burger = document.querySelector('.burger');\n  const mobileMenu = document.getElementById('mobileMenu');\n  const menuLinks = document.querySelectorAll('.mobile-menu__link');\n\n  const toggleMenu = () => {\n      burger.classList.toggle('active');\n      mobileMenu.classList.toggle('active');\n      document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n  };\n\n  burger.addEventListener('click', toggleMenu);\n  menuLinks.forEach(link => link.addEventListener('click', toggleMenu));\n\n  /* 4. АНИМАЦИЯ ПОЯВЛЕНИЯ (REVEAL) */\n  const reveals = document.querySelectorAll('.reveal');\n  const revealObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n          if (entry.isIntersecting) {\n              entry.target.classList.add('active');\n              revealObserver.unobserve(entry.target);\n          }\n      });\n  }, { threshold: 0.1 });\n\n  reveals.forEach(el => revealObserver.observe(el));\n\n  /* 5. ЛОГИКА ФОРМЫ И КАПЧИ */\n  const contactForm = document.getElementById('contactForm');\n  if (contactForm) {\n      const captchaLabel = document.getElementById('captchaQuest');\n      const num1 = Math.floor(Math.random() * 10) + 1;\n      const num2 = Math.floor(Math.random() * 10) + 1;\n      const sum = num1 + num2;\n\n      if (captchaLabel) captchaLabel.textContent = `${num1} + ${num2}`;\n\n      // Валидация телефона\n      const phoneInput = document.getElementById('userPhone');\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/[^0-9]/g, '');\n      });\n\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n          const userAns = parseInt(document.getElementById('captcha').value);\n\n          if (userAns !== sum) {\n              alert('Пожалуйста, проверьте решение примера.');\n              return;\n          }\n\n          const btn = contactForm.querySelector('.form-submit');\n          btn.disabled = true;\n          btn.innerHTML = 'Отправка...';\n\n          setTimeout(() => {\n              contactForm.style.display = 'none';\n              document.getElementById('successMessage').style.display = 'flex';\n          }, 1500);\n      });\n  }\n\n  /* 6. COOKIE POPUP */\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptBtn = document.getElementById('acceptCookies');\n\n  if (!localStorage.getItem('metrPiler_cookies')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('active');\n      }, 2000);\n  }\n\n  acceptBtn.addEventListener('click', () => {\n      localStorage.setItem('metrPiler_cookies', 'true');\n      cookiePopup.classList.remove('active');\n  });\n\n  /* 7. ПЛАВНЫЙ СКРОЛЛ ДЛЯ ЯКОРЕЙ */\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n      anchor.addEventListener('click', function (e) {\n          e.preventDefault();\n          const target = document.querySelector(this.getAttribute('href'));\n          if (target) {\n              target.scrollIntoView({ behavior: 'smooth' });\n          }\n      });\n  });\n});"],"names":["header","burger","mobileMenu","menuLinks","toggleMenu","link","reveals","revealObserver","entries","entry","el","contactForm","captchaLabel","num1","num2","sum","e","btn","cookiePopup","acceptBtn","anchor","target"],"mappings":"0uBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAE9C,OAAO,OAAW,KAClB,OAAO,YAAa,EAIxB,MAAMA,EAAS,SAAS,cAAc,SAAS,EAC/C,OAAO,iBAAiB,SAAU,IAAM,CAChC,OAAO,QAAU,IACjBA,EAAO,UAAU,IAAI,kBAAkB,EACvCA,EAAO,MAAM,QAAU,WAEvBA,EAAO,UAAU,OAAO,kBAAkB,EAC1CA,EAAO,MAAM,QAAU,SAEjC,CAAG,EAGD,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAY,SAAS,iBAAiB,oBAAoB,EAE1DC,EAAa,IAAM,CACrBH,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAW,UAAU,OAAO,QAAQ,EACpC,SAAS,KAAK,MAAM,SAAWA,EAAW,UAAU,SAAS,QAAQ,EAAI,SAAW,EACvF,EAEDD,EAAO,iBAAiB,QAASG,CAAU,EAC3CD,EAAU,QAAQE,GAAQA,EAAK,iBAAiB,QAASD,CAAU,CAAC,EAGpE,MAAME,EAAU,SAAS,iBAAiB,SAAS,EAC7CC,EAAiB,IAAI,qBAAsBC,GAAY,CACzDA,EAAQ,QAAQC,GAAS,CACjBA,EAAM,iBACNA,EAAM,OAAO,UAAU,IAAI,QAAQ,EACnCF,EAAe,UAAUE,EAAM,MAAM,EAEnD,CAAO,CACP,EAAK,CAAE,UAAW,GAAK,EAErBH,EAAQ,QAAQI,GAAMH,EAAe,QAAQG,CAAE,CAAC,EAGhD,MAAMC,EAAc,SAAS,eAAe,aAAa,EACzD,GAAIA,EAAa,CACb,MAAMC,EAAe,SAAS,eAAe,cAAc,EACrDC,EAAO,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EACxCC,EAAO,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EACxCC,EAAMF,EAAOC,EAEfF,IAAcA,EAAa,YAAc,GAAGC,CAAI,MAAMC,CAAI,IAG3C,SAAS,eAAe,WAAW,EAC3C,iBAAiB,QAAUE,GAAM,CACxCA,EAAE,OAAO,MAAQA,EAAE,OAAO,MAAM,QAAQ,UAAW,EAAE,CAC/D,CAAO,EAEDL,EAAY,iBAAiB,SAAWK,GAAM,CAI1C,GAHAA,EAAE,eAAgB,EACF,SAAS,SAAS,eAAe,SAAS,EAAE,KAAK,IAEjDD,EAAK,CACjB,MAAM,wCAAwC,EAC9C,MACd,CAEU,MAAME,EAAMN,EAAY,cAAc,cAAc,EACpDM,EAAI,SAAW,GACfA,EAAI,UAAY,cAEhB,WAAW,IAAM,CACbN,EAAY,MAAM,QAAU,OAC5B,SAAS,eAAe,gBAAgB,EAAE,MAAM,QAAU,MAC7D,EAAE,IAAI,CACjB,CAAO,CACP,CAGE,MAAMO,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAY,SAAS,eAAe,eAAe,EAEpD,aAAa,QAAQ,mBAAmB,GACzC,WAAW,IAAM,CACbD,EAAY,UAAU,IAAI,QAAQ,CACrC,EAAE,GAAI,EAGXC,EAAU,iBAAiB,QAAS,IAAM,CACtC,aAAa,QAAQ,oBAAqB,MAAM,EAChDD,EAAY,UAAU,OAAO,QAAQ,CAC3C,CAAG,EAGD,SAAS,iBAAiB,cAAc,EAAE,QAAQE,GAAU,CACxDA,EAAO,iBAAiB,QAAS,SAAUJ,EAAG,CAC1CA,EAAE,eAAgB,EAClB,MAAMK,EAAS,SAAS,cAAc,KAAK,aAAa,MAAM,CAAC,EAC3DA,GACAA,EAAO,eAAe,CAAE,SAAU,QAAQ,CAAE,CAE1D,CAAO,CACP,CAAG,CACH,CAAC"}